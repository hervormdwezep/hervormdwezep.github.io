<html>
<head>
   <link rel='stylesheet' href='https://hervormdwezep.github.io/fullcallendar.css' />
   <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.4/moment.min.js'></script>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.7.0/fullcalendar.min.js'></script>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.7.0/locale/nl.js'></script>
   <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.7.0/gcal.js'></script>
   <script type="text/javascript" src="https://hervormdwezep.github.io/polyfill.js"></script>
</head>
<body style="overflow-y:hidden;min-width:80px; margin:4px 0px;">
<div id='calendar' style='overflow-y:hidden;'></div>
<style>
	#calendar.fc-unthemed {
		font-family: Verdana, Helvetica,Arial,sans-serif, "Lucida Grande";
		font-size:8pt;
	}
	td.fc-widget-content{
	    font-family: Verdana, Helvetica,Arial,sans-serif, "Lucida Grande";
		font-size:15.6px;
	}
</style>
<script type='text/javascript'>
$(document).ready(function() {
    if (!String.prototype.startsWith) {
       String.prototype.startsWith = function(search, pos) {
         return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
       };
    }	
    $('#calendar').fullCalendar({
	    header: false,	
        defaultView: 'listDay',
	eventClick: function(calEvent, jsEvent, view) {
   	    if($('a', this).attr('name') == 'jumper')
	    {
		    var linkUrl = $('a', this).attr('href');
		    var win = window.open(linkUrl, '_blank');
		    win.focus();
	    }
 	    return false;
        },
	eventAfterAllRender: function(view)
	{
	   $('td.fc-widget-header').replaceWith('');
	},
        height:'parent',
        googleCalendarApiKey: 'AIzaSyBDwlxQ-Ab7YMtk4VKqJPxSIZJ8Z9ISv38',
        eventSources: [
            {
                googleCalendarId: 'le7o81vkb26po7fee9egestooo@group.calendar.google.com'
            },
            {
                googleCalendarId: 'q9ipt257tvc5j73520rm83ggn4@group.calendar.google.com',
            },
            {
                googleCalendarId: 'pj5ufq9abrrq9scp7hs6ohkln8@group.calendar.google.com',
            },
            {
                googleCalendarId: 'hervormdwezep@gmail.com',
            }
        ],
        eventRender: function(event, element) {
	      var htmltxt = '<p>' + event.title;
	      var url = event.url;
	      var title = '';
	      if(event.location != undefined) htmltxt += '</br>' +' (' + event.location + ')';
	      htmltxt += '</p>';
	      if(event.description != undefined)
	      {
		      if(event.description.startsWith('website:'))
		      {
			      url = event.description.substr(8);
			      $(element).find('a').attr('name', 'jumper');
		      }
		      else
		      {
			      title = event.description;
		      }
	      }		
	      var m = moment(event.start);
	      $(element).find('td.fc-list-item-time').html(m.format('HH:mm'));

	      var cursor =  (url == '') ? 'default' : 'pointer';
	      $(element).find('a').attr('href', url );
	      $(element).find('a').attr('style', 'text-decoration:none;' + 'cursor:' + cursor + ';');
	      $(element).find('a').html(htmltxt);
	      $(element).find('a').attr('title', title);
				
   	      $(element).find('span.fc-event-dot').replaceWith('');
        }});
     });
	</script>
	</body>
</html>
